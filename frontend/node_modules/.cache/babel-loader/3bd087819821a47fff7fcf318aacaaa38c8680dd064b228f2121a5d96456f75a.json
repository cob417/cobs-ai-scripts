{"ast":null,"code":"var _s = $RefreshSig$();\n/**\n * Custom hook for managing jobs\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { getJobs, createJob, updateJob, deleteJob, runJob } from '../services/api';\nimport { useErrorHandler } from './useErrorHandler';\nexport const useJobs = () => {\n  _s();\n  const [jobs, setJobs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const handleError = useErrorHandler();\n  const loadJobs = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await getJobs();\n      setJobs(data);\n    } catch (err) {\n      const errorMessage = handleError(err);\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  }, [handleError]);\n  useEffect(() => {\n    loadJobs();\n  }, [loadJobs]);\n  const create = useCallback(async jobData => {\n    try {\n      const newJob = await createJob(jobData);\n      setJobs(prev => [...prev, newJob]);\n      return newJob;\n    } catch (err) {\n      handleError(err);\n      throw err;\n    }\n  }, [handleError]);\n  const update = useCallback(async (id, jobData) => {\n    try {\n      const updatedJob = await updateJob(id, jobData);\n      setJobs(prev => prev.map(job => job.id === id ? updatedJob : job));\n      return updatedJob;\n    } catch (err) {\n      handleError(err);\n      throw err;\n    }\n  }, [handleError]);\n  const remove = useCallback(async id => {\n    try {\n      await deleteJob(id);\n      setJobs(prev => prev.filter(job => job.id !== id));\n    } catch (err) {\n      handleError(err);\n      throw err;\n    }\n  }, [handleError]);\n  const run = useCallback(async id => {\n    try {\n      await runJob(id);\n    } catch (err) {\n      handleError(err);\n      throw err;\n    }\n  }, [handleError]);\n  return {\n    jobs,\n    loading,\n    error,\n    loadJobs,\n    create,\n    update,\n    remove,\n    run\n  };\n};\n_s(useJobs, \"dNlTr7zwn3AAj6BhH3oXjn1n+v4=\", false, function () {\n  return [useErrorHandler];\n});","map":{"version":3,"names":["useState","useEffect","useCallback","getJobs","createJob","updateJob","deleteJob","runJob","useErrorHandler","useJobs","_s","jobs","setJobs","loading","setLoading","error","setError","handleError","loadJobs","data","err","errorMessage","create","jobData","newJob","prev","update","id","updatedJob","map","job","remove","filter","run"],"sources":["/home/cob417/github/cob-ai-scripts/frontend/src/hooks/useJobs.ts"],"sourcesContent":["/**\n * Custom hook for managing jobs\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { Job, JobCreate, JobUpdate, getJobs, createJob, updateJob, deleteJob, runJob } from '../services/api';\nimport { useErrorHandler } from './useErrorHandler';\n\nexport const useJobs = () => {\n  const [jobs, setJobs] = useState<Job[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const handleError = useErrorHandler();\n\n  const loadJobs = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await getJobs();\n      setJobs(data);\n    } catch (err) {\n      const errorMessage = handleError(err);\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  }, [handleError]);\n\n  useEffect(() => {\n    loadJobs();\n  }, [loadJobs]);\n\n  const create = useCallback(async (jobData: JobCreate) => {\n    try {\n      const newJob = await createJob(jobData);\n      setJobs((prev) => [...prev, newJob]);\n      return newJob;\n    } catch (err) {\n      handleError(err);\n      throw err;\n    }\n  }, [handleError]);\n\n  const update = useCallback(async (id: number, jobData: JobUpdate) => {\n    try {\n      const updatedJob = await updateJob(id, jobData);\n      setJobs((prev) => prev.map((job) => (job.id === id ? updatedJob : job)));\n      return updatedJob;\n    } catch (err) {\n      handleError(err);\n      throw err;\n    }\n  }, [handleError]);\n\n  const remove = useCallback(async (id: number) => {\n    try {\n      await deleteJob(id);\n      setJobs((prev) => prev.filter((job) => job.id !== id));\n    } catch (err) {\n      handleError(err);\n      throw err;\n    }\n  }, [handleError]);\n\n  const run = useCallback(async (id: number) => {\n    try {\n      await runJob(id);\n    } catch (err) {\n      handleError(err);\n      throw err;\n    }\n  }, [handleError]);\n\n  return {\n    jobs,\n    loading,\n    error,\n    loadJobs,\n    create,\n    update,\n    remove,\n    run,\n  };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}