{"ast":null,"code":"/**\n * Job creation/editing form\n */import React,{useState,useEffect,useCallback}from'react';import{CronInput}from'./CronInput';import{validateJobName,validatePromptContent,validateCronExpression}from'../utils/validation';import{ErrorMessage}from'./ErrorMessage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DEFAULT_EMAIL='christopher.j.obrien@gmail.com';export const JobForm=_ref=>{var _job$enabled;let{job,onSubmit,onCancel}=_ref;const[name,setName]=useState((job===null||job===void 0?void 0:job.name)||'');const[promptContent,setPromptContent]=useState((job===null||job===void 0?void 0:job.prompt_content)||'');const[cronExpression,setCronExpression]=useState((job===null||job===void 0?void 0:job.cron_expression)||'0 9 * * *');const[enabled,setEnabled]=useState((_job$enabled=job===null||job===void 0?void 0:job.enabled)!==null&&_job$enabled!==void 0?_job$enabled:true);const[emailRecipients,setEmailRecipients]=useState(()=>{const recipients=(job===null||job===void 0?void 0:job.email_recipients)||[];// Always ensure default email is included\nif(!recipients.includes(DEFAULT_EMAIL)){return[DEFAULT_EMAIL,...recipients];}return recipients;});const[newEmail,setNewEmail]=useState('');const[emailError,setEmailError]=useState('');const[submitting,setSubmitting]=useState(false);const[error,setError]=useState('');// Update email recipients when job changes\nuseEffect(()=>{const recipients=(job===null||job===void 0?void 0:job.email_recipients)||[];// Always ensure default email is included\nif(!recipients.includes(DEFAULT_EMAIL)){setEmailRecipients([DEFAULT_EMAIL,...recipients]);}else{setEmailRecipients(recipients);}},[job]);const validateForm=useCallback(()=>{const nameValidation=validateJobName(name);if(!nameValidation.valid){setError(nameValidation.error||'');return false;}const promptValidation=validatePromptContent(promptContent);if(!promptValidation.valid){setError(promptValidation.error||'');return false;}const cronValidation=validateCronExpression(cronExpression);if(!cronValidation.valid){setError(cronValidation.error||'');return false;}return true;},[name,promptContent,cronExpression]);const validateEmail=email=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailRegex.test(email);};const handleAddEmail=()=>{setEmailError('');const trimmedEmail=newEmail.trim();if(!trimmedEmail){setEmailError('Please enter an email address');return;}if(!validateEmail(trimmedEmail)){setEmailError('Please enter a valid email address');return;}if(emailRecipients.includes(trimmedEmail)){setEmailError('This email is already in the list');return;}setEmailRecipients([...emailRecipients,trimmedEmail]);setNewEmail('');setEmailError('');};const handleRemoveEmail=emailToRemove=>{// Prevent removing the default email\nif(emailToRemove===DEFAULT_EMAIL){setEmailError('Cannot remove the default email recipient');return;}setEmailRecipients(emailRecipients.filter(email=>email!==emailToRemove));};const handleKeyPress=e=>{if(e.key==='Enter'){e.preventDefault();handleAddEmail();}};const handleSubmit=async e=>{e.preventDefault();setError('');if(!validateForm()){return;}setSubmitting(true);try{// Ensure default email is always included\nconst recipientsToSave=emailRecipients.includes(DEFAULT_EMAIL)?emailRecipients:[DEFAULT_EMAIL,...emailRecipients];// Check if email recipients changed\nconst currentRecipients=(job===null||job===void 0?void 0:job.email_recipients)||[];const currentWithDefault=currentRecipients.includes(DEFAULT_EMAIL)?currentRecipients:[DEFAULT_EMAIL,...currentRecipients];const recipientsChanged=JSON.stringify(recipientsToSave.sort())!==JSON.stringify(currentWithDefault.sort());if(job){await onSubmit({name:name!==job.name?name:undefined,prompt_content:promptContent!==job.prompt_content?promptContent:undefined,cron_expression:cronExpression!==job.cron_expression?cronExpression:undefined,enabled:enabled!==job.enabled?enabled:undefined,email_recipients:recipientsChanged?recipientsToSave:undefined});}else{await onSubmit({name:name.trim(),prompt_content:promptContent.trim(),cron_expression:cronExpression.trim(),enabled,email_recipients:recipientsToSave});}}catch(err){const errorMessage=err instanceof Error?err.message:'Failed to save job';setError(errorMessage);}finally{setSubmitting(false);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"job-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:job?'Edit Job':'Create New Job'}),error&&/*#__PURE__*/_jsx(ErrorMessage,{message:error,onDismiss:()=>setError('')}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Job Name \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),required:true,placeholder:\"e.g., Daily AI News Research\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Prompt Content (Markdown) \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"textarea\",{value:promptContent,onChange:e=>setPromptContent(e.target.value),required:true,rows:15,placeholder:\"Enter your prompt in Markdown format...\",className:\"prompt-editor\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Schedule (Cron Expression) \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(CronInput,{value:cronExpression,onChange:setCronExpression,error:error})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:enabled,onChange:e=>setEnabled(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{children:\"Enabled (job will run on schedule)\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email Recipients\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"email-recipients-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email-input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:newEmail,onChange:e=>{setNewEmail(e.target.value);setEmailError('');},onKeyPress:handleKeyPress,placeholder:\"Enter email address\",className:emailError?'error':''}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddEmail,className:\"btn-add-email\",children:\"Add\"})]}),emailError&&/*#__PURE__*/_jsx(\"div\",{className:\"email-error\",children:emailError}),emailRecipients.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"email-recipients-list\",children:emailRecipients.map((email,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"email-recipient-item \".concat(email===DEFAULT_EMAIL?'default-email':''),children:[/*#__PURE__*/_jsx(\"span\",{children:email}),email===DEFAULT_EMAIL&&/*#__PURE__*/_jsx(\"span\",{className:\"default-badge\",children:\"Default\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleRemoveEmail(email),className:\"btn-remove-email\",title:email===DEFAULT_EMAIL?\"Cannot remove default email\":\"Remove email\",disabled:email===DEFAULT_EMAIL,children:\"\\xD7\"})]},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,disabled:submitting,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:submitting||!name||!promptContent||!cronExpression,children:submitting?'Saving...':job?'Update Job':'Create Job'})]})]});};","map":{"version":3,"names":["React","useState","useEffect","useCallback","CronInput","validateJobName","validatePromptContent","validateCronExpression","ErrorMessage","jsx","_jsx","jsxs","_jsxs","DEFAULT_EMAIL","JobForm","_ref","_job$enabled","job","onSubmit","onCancel","name","setName","promptContent","setPromptContent","prompt_content","cronExpression","setCronExpression","cron_expression","enabled","setEnabled","emailRecipients","setEmailRecipients","recipients","email_recipients","includes","newEmail","setNewEmail","emailError","setEmailError","submitting","setSubmitting","error","setError","validateForm","nameValidation","valid","promptValidation","cronValidation","validateEmail","email","emailRegex","test","handleAddEmail","trimmedEmail","trim","handleRemoveEmail","emailToRemove","filter","handleKeyPress","e","key","preventDefault","handleSubmit","recipientsToSave","currentRecipients","currentWithDefault","recipientsChanged","JSON","stringify","sort","undefined","err","errorMessage","Error","message","className","children","onDismiss","type","value","onChange","target","required","placeholder","rows","checked","onKeyPress","onClick","length","map","index","concat","title","disabled"],"sources":["/home/cob417/github/cob-ai-scripts/frontend/src/components/JobForm.tsx"],"sourcesContent":["/**\n * Job creation/editing form\n */\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Job, JobCreate, JobUpdate } from '../services/api';\nimport { CronInput } from './CronInput';\nimport { validateJobName, validatePromptContent, validateCronExpression } from '../utils/validation';\nimport { ErrorMessage } from './ErrorMessage';\n\ninterface JobFormProps {\n  job?: Job;\n  onSubmit: (data: JobCreate | JobUpdate) => Promise<void>;\n  onCancel: () => void;\n}\n\nconst DEFAULT_EMAIL = 'christopher.j.obrien@gmail.com';\n\nexport const JobForm: React.FC<JobFormProps> = ({ job, onSubmit, onCancel }) => {\n  const [name, setName] = useState(job?.name || '');\n  const [promptContent, setPromptContent] = useState(job?.prompt_content || '');\n  const [cronExpression, setCronExpression] = useState(job?.cron_expression || '0 9 * * *');\n  const [enabled, setEnabled] = useState(job?.enabled ?? true);\n  const [emailRecipients, setEmailRecipients] = useState<string[]>(() => {\n    const recipients = job?.email_recipients || [];\n    // Always ensure default email is included\n    if (!recipients.includes(DEFAULT_EMAIL)) {\n      return [DEFAULT_EMAIL, ...recipients];\n    }\n    return recipients;\n  });\n  const [newEmail, setNewEmail] = useState('');\n  const [emailError, setEmailError] = useState<string>('');\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<string>('');\n\n  // Update email recipients when job changes\n  useEffect(() => {\n    const recipients = job?.email_recipients || [];\n    // Always ensure default email is included\n    if (!recipients.includes(DEFAULT_EMAIL)) {\n      setEmailRecipients([DEFAULT_EMAIL, ...recipients]);\n    } else {\n      setEmailRecipients(recipients);\n    }\n  }, [job]);\n\n  const validateForm = useCallback((): boolean => {\n    const nameValidation = validateJobName(name);\n    if (!nameValidation.valid) {\n      setError(nameValidation.error || '');\n      return false;\n    }\n\n    const promptValidation = validatePromptContent(promptContent);\n    if (!promptValidation.valid) {\n      setError(promptValidation.error || '');\n      return false;\n    }\n\n    const cronValidation = validateCronExpression(cronExpression);\n    if (!cronValidation.valid) {\n      setError(cronValidation.error || '');\n      return false;\n    }\n\n    return true;\n  }, [name, promptContent, cronExpression]);\n\n  const validateEmail = (email: string): boolean => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n\n  const handleAddEmail = () => {\n    setEmailError('');\n    const trimmedEmail = newEmail.trim();\n    \n    if (!trimmedEmail) {\n      setEmailError('Please enter an email address');\n      return;\n    }\n    \n    if (!validateEmail(trimmedEmail)) {\n      setEmailError('Please enter a valid email address');\n      return;\n    }\n    \n    if (emailRecipients.includes(trimmedEmail)) {\n      setEmailError('This email is already in the list');\n      return;\n    }\n    \n    setEmailRecipients([...emailRecipients, trimmedEmail]);\n    setNewEmail('');\n    setEmailError('');\n  };\n\n  const handleRemoveEmail = (emailToRemove: string) => {\n    // Prevent removing the default email\n    if (emailToRemove === DEFAULT_EMAIL) {\n      setEmailError('Cannot remove the default email recipient');\n      return;\n    }\n    setEmailRecipients(emailRecipients.filter(email => email !== emailToRemove));\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      handleAddEmail();\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    if (!validateForm()) {\n      return;\n    }\n\n    setSubmitting(true);\n\n    try {\n      // Ensure default email is always included\n      const recipientsToSave = emailRecipients.includes(DEFAULT_EMAIL) \n        ? emailRecipients \n        : [DEFAULT_EMAIL, ...emailRecipients];\n      \n      // Check if email recipients changed\n      const currentRecipients = job?.email_recipients || [];\n      const currentWithDefault = currentRecipients.includes(DEFAULT_EMAIL) \n        ? currentRecipients \n        : [DEFAULT_EMAIL, ...currentRecipients];\n      const recipientsChanged = JSON.stringify(recipientsToSave.sort()) !== JSON.stringify(currentWithDefault.sort());\n      \n      if (job) {\n        await onSubmit({\n          name: name !== job.name ? name : undefined,\n          prompt_content: promptContent !== job.prompt_content ? promptContent : undefined,\n          cron_expression: cronExpression !== job.cron_expression ? cronExpression : undefined,\n          enabled: enabled !== job.enabled ? enabled : undefined,\n          email_recipients: recipientsChanged ? recipientsToSave : undefined,\n        });\n      } else {\n        await onSubmit({\n          name: name.trim(),\n          prompt_content: promptContent.trim(),\n          cron_expression: cronExpression.trim(),\n          enabled,\n          email_recipients: recipientsToSave,\n        });\n      }\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to save job';\n      setError(errorMessage);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"job-form\">\n      <h2>{job ? 'Edit Job' : 'Create New Job'}</h2>\n\n      {error && <ErrorMessage message={error} onDismiss={() => setError('')} />}\n\n      <div className=\"form-group\">\n        <label>\n          Job Name <span className=\"required\">*</span>\n        </label>\n        <input\n          type=\"text\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required\n          placeholder=\"e.g., Daily AI News Research\"\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>\n          Prompt Content (Markdown) <span className=\"required\">*</span>\n        </label>\n        <textarea\n          value={promptContent}\n          onChange={(e) => setPromptContent(e.target.value)}\n          required\n          rows={15}\n          placeholder=\"Enter your prompt in Markdown format...\"\n          className=\"prompt-editor\"\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>\n          Schedule (Cron Expression) <span className=\"required\">*</span>\n        </label>\n        <CronInput\n          value={cronExpression}\n          onChange={setCronExpression}\n          error={error}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={enabled}\n            onChange={(e) => setEnabled(e.target.checked)}\n          />\n          <span>Enabled (job will run on schedule)</span>\n        </label>\n      </div>\n\n      <div className=\"form-group\">\n        <label>\n          Email Recipients\n        </label>\n        <div className=\"email-recipients-container\">\n          <div className=\"email-input-group\">\n            <input\n              type=\"email\"\n              value={newEmail}\n              onChange={(e) => {\n                setNewEmail(e.target.value);\n                setEmailError('');\n              }}\n              onKeyPress={handleKeyPress}\n              placeholder=\"Enter email address\"\n              className={emailError ? 'error' : ''}\n            />\n            <button\n              type=\"button\"\n              onClick={handleAddEmail}\n              className=\"btn-add-email\"\n            >\n              Add\n            </button>\n          </div>\n          {emailError && (\n            <div className=\"email-error\">{emailError}</div>\n          )}\n          {emailRecipients.length > 0 && (\n            <div className=\"email-recipients-list\">\n              {emailRecipients.map((email, index) => (\n                <div key={index} className={`email-recipient-item ${email === DEFAULT_EMAIL ? 'default-email' : ''}`}>\n                  <span>{email}</span>\n                  {email === DEFAULT_EMAIL && <span className=\"default-badge\">Default</span>}\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemoveEmail(email)}\n                    className=\"btn-remove-email\"\n                    title={email === DEFAULT_EMAIL ? \"Cannot remove default email\" : \"Remove email\"}\n                    disabled={email === DEFAULT_EMAIL}\n                  >\n                    Ã—\n                  </button>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"form-actions\">\n        <button type=\"button\" onClick={onCancel} disabled={submitting}>\n          Cancel\n        </button>\n        <button type=\"submit\" disabled={submitting || !name || !promptContent || !cronExpression}>\n          {submitting ? 'Saving...' : job ? 'Update Job' : 'Create Job'}\n        </button>\n      </div>\n    </form>\n  );\n};\n"],"mappings":"AAAA;AACA;AACA,GAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAE/D,OAASC,SAAS,KAAQ,aAAa,CACvC,OAASC,eAAe,CAAEC,qBAAqB,CAAEC,sBAAsB,KAAQ,qBAAqB,CACpG,OAASC,YAAY,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAQ9C,KAAM,CAAAC,aAAa,CAAG,gCAAgC,CAEtD,MAAO,MAAM,CAAAC,OAA+B,CAAGC,IAAA,EAAiC,KAAAC,YAAA,IAAhC,CAAEC,GAAG,CAAEC,QAAQ,CAAEC,QAAS,CAAC,CAAAJ,IAAA,CACzE,KAAM,CAACK,IAAI,CAAEC,OAAO,CAAC,CAAGpB,QAAQ,CAAC,CAAAgB,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEG,IAAI,GAAI,EAAE,CAAC,CACjD,KAAM,CAACE,aAAa,CAAEC,gBAAgB,CAAC,CAAGtB,QAAQ,CAAC,CAAAgB,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEO,cAAc,GAAI,EAAE,CAAC,CAC7E,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGzB,QAAQ,CAAC,CAAAgB,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEU,eAAe,GAAI,WAAW,CAAC,CACzF,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAG5B,QAAQ,EAAAe,YAAA,CAACC,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEW,OAAO,UAAAZ,YAAA,UAAAA,YAAA,CAAI,IAAI,CAAC,CAC5D,KAAM,CAACc,eAAe,CAAEC,kBAAkB,CAAC,CAAG9B,QAAQ,CAAW,IAAM,CACrE,KAAM,CAAA+B,UAAU,CAAG,CAAAf,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEgB,gBAAgB,GAAI,EAAE,CAC9C;AACA,GAAI,CAACD,UAAU,CAACE,QAAQ,CAACrB,aAAa,CAAC,CAAE,CACvC,MAAO,CAACA,aAAa,CAAE,GAAGmB,UAAU,CAAC,CACvC,CACA,MAAO,CAAAA,UAAU,CACnB,CAAC,CAAC,CACF,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGnC,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACoC,UAAU,CAAEC,aAAa,CAAC,CAAGrC,QAAQ,CAAS,EAAE,CAAC,CACxD,KAAM,CAACsC,UAAU,CAAEC,aAAa,CAAC,CAAGvC,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACwC,KAAK,CAAEC,QAAQ,CAAC,CAAGzC,QAAQ,CAAS,EAAE,CAAC,CAE9C;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAA8B,UAAU,CAAG,CAAAf,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEgB,gBAAgB,GAAI,EAAE,CAC9C;AACA,GAAI,CAACD,UAAU,CAACE,QAAQ,CAACrB,aAAa,CAAC,CAAE,CACvCkB,kBAAkB,CAAC,CAAClB,aAAa,CAAE,GAAGmB,UAAU,CAAC,CAAC,CACpD,CAAC,IAAM,CACLD,kBAAkB,CAACC,UAAU,CAAC,CAChC,CACF,CAAC,CAAE,CAACf,GAAG,CAAC,CAAC,CAET,KAAM,CAAA0B,YAAY,CAAGxC,WAAW,CAAC,IAAe,CAC9C,KAAM,CAAAyC,cAAc,CAAGvC,eAAe,CAACe,IAAI,CAAC,CAC5C,GAAI,CAACwB,cAAc,CAACC,KAAK,CAAE,CACzBH,QAAQ,CAACE,cAAc,CAACH,KAAK,EAAI,EAAE,CAAC,CACpC,MAAO,MAAK,CACd,CAEA,KAAM,CAAAK,gBAAgB,CAAGxC,qBAAqB,CAACgB,aAAa,CAAC,CAC7D,GAAI,CAACwB,gBAAgB,CAACD,KAAK,CAAE,CAC3BH,QAAQ,CAACI,gBAAgB,CAACL,KAAK,EAAI,EAAE,CAAC,CACtC,MAAO,MAAK,CACd,CAEA,KAAM,CAAAM,cAAc,CAAGxC,sBAAsB,CAACkB,cAAc,CAAC,CAC7D,GAAI,CAACsB,cAAc,CAACF,KAAK,CAAE,CACzBH,QAAQ,CAACK,cAAc,CAACN,KAAK,EAAI,EAAE,CAAC,CACpC,MAAO,MAAK,CACd,CAEA,MAAO,KAAI,CACb,CAAC,CAAE,CAACrB,IAAI,CAAEE,aAAa,CAAEG,cAAc,CAAC,CAAC,CAEzC,KAAM,CAAAuB,aAAa,CAAIC,KAAa,EAAc,CAChD,KAAM,CAAAC,UAAU,CAAG,4BAA4B,CAC/C,MAAO,CAAAA,UAAU,CAACC,IAAI,CAACF,KAAK,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAG,cAAc,CAAGA,CAAA,GAAM,CAC3Bd,aAAa,CAAC,EAAE,CAAC,CACjB,KAAM,CAAAe,YAAY,CAAGlB,QAAQ,CAACmB,IAAI,CAAC,CAAC,CAEpC,GAAI,CAACD,YAAY,CAAE,CACjBf,aAAa,CAAC,+BAA+B,CAAC,CAC9C,OACF,CAEA,GAAI,CAACU,aAAa,CAACK,YAAY,CAAC,CAAE,CAChCf,aAAa,CAAC,oCAAoC,CAAC,CACnD,OACF,CAEA,GAAIR,eAAe,CAACI,QAAQ,CAACmB,YAAY,CAAC,CAAE,CAC1Cf,aAAa,CAAC,mCAAmC,CAAC,CAClD,OACF,CAEAP,kBAAkB,CAAC,CAAC,GAAGD,eAAe,CAAEuB,YAAY,CAAC,CAAC,CACtDjB,WAAW,CAAC,EAAE,CAAC,CACfE,aAAa,CAAC,EAAE,CAAC,CACnB,CAAC,CAED,KAAM,CAAAiB,iBAAiB,CAAIC,aAAqB,EAAK,CACnD;AACA,GAAIA,aAAa,GAAK3C,aAAa,CAAE,CACnCyB,aAAa,CAAC,2CAA2C,CAAC,CAC1D,OACF,CACAP,kBAAkB,CAACD,eAAe,CAAC2B,MAAM,CAACR,KAAK,EAAIA,KAAK,GAAKO,aAAa,CAAC,CAAC,CAC9E,CAAC,CAED,KAAM,CAAAE,cAAc,CAAIC,CAAwC,EAAK,CACnE,GAAIA,CAAC,CAACC,GAAG,GAAK,OAAO,CAAE,CACrBD,CAAC,CAACE,cAAc,CAAC,CAAC,CAClBT,cAAc,CAAC,CAAC,CAClB,CACF,CAAC,CAED,KAAM,CAAAU,YAAY,CAAG,KAAO,CAAAH,CAAkB,EAAK,CACjDA,CAAC,CAACE,cAAc,CAAC,CAAC,CAClBnB,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CAACC,YAAY,CAAC,CAAC,CAAE,CACnB,OACF,CAEAH,aAAa,CAAC,IAAI,CAAC,CAEnB,GAAI,CACF;AACA,KAAM,CAAAuB,gBAAgB,CAAGjC,eAAe,CAACI,QAAQ,CAACrB,aAAa,CAAC,CAC5DiB,eAAe,CACf,CAACjB,aAAa,CAAE,GAAGiB,eAAe,CAAC,CAEvC;AACA,KAAM,CAAAkC,iBAAiB,CAAG,CAAA/C,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEgB,gBAAgB,GAAI,EAAE,CACrD,KAAM,CAAAgC,kBAAkB,CAAGD,iBAAiB,CAAC9B,QAAQ,CAACrB,aAAa,CAAC,CAChEmD,iBAAiB,CACjB,CAACnD,aAAa,CAAE,GAAGmD,iBAAiB,CAAC,CACzC,KAAM,CAAAE,iBAAiB,CAAGC,IAAI,CAACC,SAAS,CAACL,gBAAgB,CAACM,IAAI,CAAC,CAAC,CAAC,GAAKF,IAAI,CAACC,SAAS,CAACH,kBAAkB,CAACI,IAAI,CAAC,CAAC,CAAC,CAE/G,GAAIpD,GAAG,CAAE,CACP,KAAM,CAAAC,QAAQ,CAAC,CACbE,IAAI,CAAEA,IAAI,GAAKH,GAAG,CAACG,IAAI,CAAGA,IAAI,CAAGkD,SAAS,CAC1C9C,cAAc,CAAEF,aAAa,GAAKL,GAAG,CAACO,cAAc,CAAGF,aAAa,CAAGgD,SAAS,CAChF3C,eAAe,CAAEF,cAAc,GAAKR,GAAG,CAACU,eAAe,CAAGF,cAAc,CAAG6C,SAAS,CACpF1C,OAAO,CAAEA,OAAO,GAAKX,GAAG,CAACW,OAAO,CAAGA,OAAO,CAAG0C,SAAS,CACtDrC,gBAAgB,CAAEiC,iBAAiB,CAAGH,gBAAgB,CAAGO,SAC3D,CAAC,CAAC,CACJ,CAAC,IAAM,CACL,KAAM,CAAApD,QAAQ,CAAC,CACbE,IAAI,CAAEA,IAAI,CAACkC,IAAI,CAAC,CAAC,CACjB9B,cAAc,CAAEF,aAAa,CAACgC,IAAI,CAAC,CAAC,CACpC3B,eAAe,CAAEF,cAAc,CAAC6B,IAAI,CAAC,CAAC,CACtC1B,OAAO,CACPK,gBAAgB,CAAE8B,gBACpB,CAAC,CAAC,CACJ,CACF,CAAE,MAAOQ,GAAG,CAAE,CACZ,KAAM,CAAAC,YAAY,CAAGD,GAAG,WAAY,CAAAE,KAAK,CAAGF,GAAG,CAACG,OAAO,CAAG,oBAAoB,CAC9EhC,QAAQ,CAAC8B,YAAY,CAAC,CACxB,CAAC,OAAS,CACRhC,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,mBACE5B,KAAA,SAAMM,QAAQ,CAAE4C,YAAa,CAACa,SAAS,CAAC,UAAU,CAAAC,QAAA,eAChDlE,IAAA,OAAAkE,QAAA,CAAK3D,GAAG,CAAG,UAAU,CAAG,gBAAgB,CAAK,CAAC,CAE7CwB,KAAK,eAAI/B,IAAA,CAACF,YAAY,EAACkE,OAAO,CAAEjC,KAAM,CAACoC,SAAS,CAAEA,CAAA,GAAMnC,QAAQ,CAAC,EAAE,CAAE,CAAE,CAAC,cAEzE9B,KAAA,QAAK+D,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBhE,KAAA,UAAAgE,QAAA,EAAO,WACI,cAAAlE,IAAA,SAAMiE,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,EACvC,CAAC,cACRlE,IAAA,UACEoE,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE3D,IAAK,CACZ4D,QAAQ,CAAGrB,CAAC,EAAKtC,OAAO,CAACsC,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE,CACzCG,QAAQ,MACRC,WAAW,CAAC,8BAA8B,CAC3C,CAAC,EACC,CAAC,cAENvE,KAAA,QAAK+D,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBhE,KAAA,UAAAgE,QAAA,EAAO,4BACqB,cAAAlE,IAAA,SAAMiE,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,EACxD,CAAC,cACRlE,IAAA,aACEqE,KAAK,CAAEzD,aAAc,CACrB0D,QAAQ,CAAGrB,CAAC,EAAKpC,gBAAgB,CAACoC,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE,CAClDG,QAAQ,MACRE,IAAI,CAAE,EAAG,CACTD,WAAW,CAAC,yCAAyC,CACrDR,SAAS,CAAC,eAAe,CAC1B,CAAC,EACC,CAAC,cAEN/D,KAAA,QAAK+D,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBhE,KAAA,UAAAgE,QAAA,EAAO,6BACsB,cAAAlE,IAAA,SAAMiE,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,EACzD,CAAC,cACRlE,IAAA,CAACN,SAAS,EACR2E,KAAK,CAAEtD,cAAe,CACtBuD,QAAQ,CAAEtD,iBAAkB,CAC5Be,KAAK,CAAEA,KAAM,CACd,CAAC,EACC,CAAC,cAEN/B,IAAA,QAAKiE,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBhE,KAAA,UAAAgE,QAAA,eACElE,IAAA,UACEoE,IAAI,CAAC,UAAU,CACfO,OAAO,CAAEzD,OAAQ,CACjBoD,QAAQ,CAAGrB,CAAC,EAAK9B,UAAU,CAAC8B,CAAC,CAACsB,MAAM,CAACI,OAAO,CAAE,CAC/C,CAAC,cACF3E,IAAA,SAAAkE,QAAA,CAAM,oCAAkC,CAAM,CAAC,EAC1C,CAAC,CACL,CAAC,cAENhE,KAAA,QAAK+D,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlE,IAAA,UAAAkE,QAAA,CAAO,kBAEP,CAAO,CAAC,cACRhE,KAAA,QAAK+D,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzChE,KAAA,QAAK+D,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClE,IAAA,UACEoE,IAAI,CAAC,OAAO,CACZC,KAAK,CAAE5C,QAAS,CAChB6C,QAAQ,CAAGrB,CAAC,EAAK,CACfvB,WAAW,CAACuB,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAC,CAC3BzC,aAAa,CAAC,EAAE,CAAC,CACnB,CAAE,CACFgD,UAAU,CAAE5B,cAAe,CAC3ByB,WAAW,CAAC,qBAAqB,CACjCR,SAAS,CAAEtC,UAAU,CAAG,OAAO,CAAG,EAAG,CACtC,CAAC,cACF3B,IAAA,WACEoE,IAAI,CAAC,QAAQ,CACbS,OAAO,CAAEnC,cAAe,CACxBuB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC1B,KAED,CAAQ,CAAC,EACN,CAAC,CACLvC,UAAU,eACT3B,IAAA,QAAKiE,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEvC,UAAU,CAAM,CAC/C,CACAP,eAAe,CAAC0D,MAAM,CAAG,CAAC,eACzB9E,IAAA,QAAKiE,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACnC9C,eAAe,CAAC2D,GAAG,CAAC,CAACxC,KAAK,CAAEyC,KAAK,gBAChC9E,KAAA,QAAiB+D,SAAS,yBAAAgB,MAAA,CAA0B1C,KAAK,GAAKpC,aAAa,CAAG,eAAe,CAAG,EAAE,CAAG,CAAA+D,QAAA,eACnGlE,IAAA,SAAAkE,QAAA,CAAO3B,KAAK,CAAO,CAAC,CACnBA,KAAK,GAAKpC,aAAa,eAAIH,IAAA,SAAMiE,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,cAC1ElE,IAAA,WACEoE,IAAI,CAAC,QAAQ,CACbS,OAAO,CAAEA,CAAA,GAAMhC,iBAAiB,CAACN,KAAK,CAAE,CACxC0B,SAAS,CAAC,kBAAkB,CAC5BiB,KAAK,CAAE3C,KAAK,GAAKpC,aAAa,CAAG,6BAA6B,CAAG,cAAe,CAChFgF,QAAQ,CAAE5C,KAAK,GAAKpC,aAAc,CAAA+D,QAAA,CACnC,MAED,CAAQ,CAAC,GAXDc,KAYL,CACN,CAAC,CACC,CACN,EACE,CAAC,EACH,CAAC,cAEN9E,KAAA,QAAK+D,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BlE,IAAA,WAAQoE,IAAI,CAAC,QAAQ,CAACS,OAAO,CAAEpE,QAAS,CAAC0E,QAAQ,CAAEtD,UAAW,CAAAqC,QAAA,CAAC,QAE/D,CAAQ,CAAC,cACTlE,IAAA,WAAQoE,IAAI,CAAC,QAAQ,CAACe,QAAQ,CAAEtD,UAAU,EAAI,CAACnB,IAAI,EAAI,CAACE,aAAa,EAAI,CAACG,cAAe,CAAAmD,QAAA,CACtFrC,UAAU,CAAG,WAAW,CAAGtB,GAAG,CAAG,YAAY,CAAG,YAAY,CACvD,CAAC,EACN,CAAC,EACF,CAAC,CAEX,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}