{"ast":null,"code":"/**\n * Table of recent job runs\n */import React from'react';import{format}from'date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const JobRunsTable=_ref=>{let{runs,onView}=_ref;const getStatusBadge=status=>{const className=\"status-badge status-\".concat(status);return/*#__PURE__*/_jsx(\"span\",{className:className,children:status.toUpperCase()});};const getDuration=run=>{if(!run.completed_at){return'Running...';}const start=new Date(run.started_at);const end=new Date(run.completed_at);const seconds=Math.floor((end.getTime()-start.getTime())/1000);if(seconds<60)return\"\".concat(seconds,\"s\");const minutes=Math.floor(seconds/60);const remainingSeconds=seconds%60;return\"\".concat(minutes,\"m \").concat(remainingSeconds,\"s\");};if(runs.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No job runs yet. Jobs will appear here after they execute.\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"job-runs-table\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recent Job Runs\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Job Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Started\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Duration\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:runs.map(run=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:run.job_name}),/*#__PURE__*/_jsx(\"td\",{children:getStatusBadge(run.status)}),/*#__PURE__*/_jsx(\"td\",{children:format(new Date(run.started_at),'MMM d, yyyy HH:mm:ss')}),/*#__PURE__*/_jsx(\"td\",{children:getDuration(run)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>onView(run.id),className:\"btn-view\",children:\"View Details\"})})]},run.id))})]})]});};","map":{"version":3,"names":["React","format","jsx","_jsx","jsxs","_jsxs","JobRunsTable","_ref","runs","onView","getStatusBadge","status","className","concat","children","toUpperCase","getDuration","run","completed_at","start","Date","started_at","end","seconds","Math","floor","getTime","minutes","remainingSeconds","length","map","job_name","onClick","id"],"sources":["/home/cob417/github/cob-ai-scripts/frontend/src/components/JobRunsTable.tsx"],"sourcesContent":["/**\n * Table of recent job runs\n */\n\nimport React from 'react';\nimport { JobRun } from '../services/api';\nimport { format } from 'date-fns';\n\ninterface JobRunsTableProps {\n  runs: JobRun[];\n  onView: (runId: number) => void;\n}\n\nexport const JobRunsTable: React.FC<JobRunsTableProps> = ({ runs, onView }) => {\n  const getStatusBadge = (status: string) => {\n    const className = `status-badge status-${status}`;\n    return <span className={className}>{status.toUpperCase()}</span>;\n  };\n\n  const getDuration = (run: JobRun) => {\n    if (!run.completed_at) {\n      return 'Running...';\n    }\n    const start = new Date(run.started_at);\n    const end = new Date(run.completed_at);\n    const seconds = Math.floor((end.getTime() - start.getTime()) / 1000);\n    if (seconds < 60) return `${seconds}s`;\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return `${minutes}m ${remainingSeconds}s`;\n  };\n\n  if (runs.length === 0) {\n    return (\n      <div className=\"empty-state\">\n        <p>No job runs yet. Jobs will appear here after they execute.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"job-runs-table\">\n      <h3>Recent Job Runs</h3>\n      <table>\n        <thead>\n          <tr>\n            <th>Job Name</th>\n            <th>Status</th>\n            <th>Started</th>\n            <th>Duration</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {runs.map((run) => (\n            <tr key={run.id}>\n              <td>{run.job_name}</td>\n              <td>{getStatusBadge(run.status)}</td>\n              <td>\n                {format(new Date(run.started_at), 'MMM d, yyyy HH:mm:ss')}\n              </td>\n              <td>{getDuration(run)}</td>\n              <td>\n                <button onClick={() => onView(run.id)} className=\"btn-view\">\n                  View Details\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}