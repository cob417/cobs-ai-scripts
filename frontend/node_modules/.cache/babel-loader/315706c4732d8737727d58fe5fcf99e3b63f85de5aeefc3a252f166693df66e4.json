{"ast":null,"code":"/**\n * Custom hook for scheduler status\n */import{useState,useEffect,useCallback}from'react';import{getStatus}from'../services/api';import{useErrorHandler}from'./useErrorHandler';export const useStatus=()=>{const[status,setStatus]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const handleError=useErrorHandler();const loadStatus=useCallback(async()=>{try{setError(null);const data=await getStatus();setStatus(data);}catch(err){const errorMessage=handleError(err);setError(errorMessage);}finally{setLoading(false);}},[handleError]);useEffect(()=>{loadStatus();const interval=setInterval(loadStatus,5000);// Refresh every 5 seconds\nreturn()=>clearInterval(interval);},[loadStatus]);return{status,loading,error,loadStatus};};","map":{"version":3,"names":["useState","useEffect","useCallback","getStatus","useErrorHandler","useStatus","status","setStatus","loading","setLoading","error","setError","handleError","loadStatus","data","err","errorMessage","interval","setInterval","clearInterval"],"sources":["/home/cob417/github/cob-ai-scripts/frontend/src/hooks/useStatus.ts"],"sourcesContent":["/**\n * Custom hook for scheduler status\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { Status, getStatus } from '../services/api';\nimport { useErrorHandler } from './useErrorHandler';\n\nexport const useStatus = () => {\n  const [status, setStatus] = useState<Status | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const handleError = useErrorHandler();\n\n  const loadStatus = useCallback(async () => {\n    try {\n      setError(null);\n      const data = await getStatus();\n      setStatus(data);\n    } catch (err) {\n      const errorMessage = handleError(err);\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  }, [handleError]);\n\n  useEffect(() => {\n    loadStatus();\n    const interval = setInterval(loadStatus, 5000); // Refresh every 5 seconds\n    return () => clearInterval(interval);\n  }, [loadStatus]);\n\n  return {\n    status,\n    loading,\n    error,\n    loadStatus,\n  };\n};\n"],"mappings":"AAAA;AACA;AACA,GAEA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CACxD,OAAiBC,SAAS,KAAQ,iBAAiB,CACnD,OAASC,eAAe,KAAQ,mBAAmB,CAEnD,MAAO,MAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGP,QAAQ,CAAgB,IAAI,CAAC,CACzD,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAgB,IAAI,CAAC,CACvD,KAAM,CAAAY,WAAW,CAAGR,eAAe,CAAC,CAAC,CAErC,KAAM,CAAAS,UAAU,CAAGX,WAAW,CAAC,SAAY,CACzC,GAAI,CACFS,QAAQ,CAAC,IAAI,CAAC,CACd,KAAM,CAAAG,IAAI,CAAG,KAAM,CAAAX,SAAS,CAAC,CAAC,CAC9BI,SAAS,CAACO,IAAI,CAAC,CACjB,CAAE,MAAOC,GAAG,CAAE,CACZ,KAAM,CAAAC,YAAY,CAAGJ,WAAW,CAACG,GAAG,CAAC,CACrCJ,QAAQ,CAACK,YAAY,CAAC,CACxB,CAAC,OAAS,CACRP,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACG,WAAW,CAAC,CAAC,CAEjBX,SAAS,CAAC,IAAM,CACdY,UAAU,CAAC,CAAC,CACZ,KAAM,CAAAI,QAAQ,CAAGC,WAAW,CAACL,UAAU,CAAE,IAAI,CAAC,CAAE;AAChD,MAAO,IAAMM,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,CAACJ,UAAU,CAAC,CAAC,CAEhB,MAAO,CACLP,MAAM,CACNE,OAAO,CACPE,KAAK,CACLG,UACF,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}