{"ast":null,"code":"var _s = $RefreshSig$();\n/**\n * Custom hook for scheduler status\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { getStatus } from '../services/api';\nimport { useErrorHandler } from './useErrorHandler';\nexport const useStatus = () => {\n  _s();\n  const [status, setStatus] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const handleError = useErrorHandler();\n  const loadStatus = useCallback(async () => {\n    try {\n      setError(null);\n      const data = await getStatus();\n      setStatus(data);\n    } catch (err) {\n      const errorMessage = handleError(err);\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  }, [handleError]);\n  useEffect(() => {\n    loadStatus();\n    const interval = setInterval(loadStatus, 5000); // Refresh every 5 seconds\n    return () => clearInterval(interval);\n  }, [loadStatus]);\n  return {\n    status,\n    loading,\n    error,\n    loadStatus\n  };\n};\n_s(useStatus, \"RysTWdivM6Odo9mVWh+y+ZhZMwQ=\", false, function () {\n  return [useErrorHandler];\n});","map":{"version":3,"names":["useState","useEffect","useCallback","getStatus","useErrorHandler","useStatus","_s","status","setStatus","loading","setLoading","error","setError","handleError","loadStatus","data","err","errorMessage","interval","setInterval","clearInterval"],"sources":["/home/cob417/github/cob-ai-scripts/frontend/src/hooks/useStatus.ts"],"sourcesContent":["/**\n * Custom hook for scheduler status\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { Status, getStatus } from '../services/api';\nimport { useErrorHandler } from './useErrorHandler';\n\nexport const useStatus = () => {\n  const [status, setStatus] = useState<Status | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const handleError = useErrorHandler();\n\n  const loadStatus = useCallback(async () => {\n    try {\n      setError(null);\n      const data = await getStatus();\n      setStatus(data);\n    } catch (err) {\n      const errorMessage = handleError(err);\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  }, [handleError]);\n\n  useEffect(() => {\n    loadStatus();\n    const interval = setInterval(loadStatus, 5000); // Refresh every 5 seconds\n    return () => clearInterval(interval);\n  }, [loadStatus]);\n\n  return {\n    status,\n    loading,\n    error,\n    loadStatus,\n  };\n};\n"],"mappings":";AAAA;AACA;AACA;;AAEA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACxD,SAAiBC,SAAS,QAAQ,iBAAiB;AACnD,SAASC,eAAe,QAAQ,mBAAmB;AAEnD,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAgB,IAAI,CAAC;EACzD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAgB,IAAI,CAAC;EACvD,MAAMa,WAAW,GAAGT,eAAe,CAAC,CAAC;EAErC,MAAMU,UAAU,GAAGZ,WAAW,CAAC,YAAY;IACzC,IAAI;MACFU,QAAQ,CAAC,IAAI,CAAC;MACd,MAAMG,IAAI,GAAG,MAAMZ,SAAS,CAAC,CAAC;MAC9BK,SAAS,CAACO,IAAI,CAAC;IACjB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZ,MAAMC,YAAY,GAAGJ,WAAW,CAACG,GAAG,CAAC;MACrCJ,QAAQ,CAACK,YAAY,CAAC;IACxB,CAAC,SAAS;MACRP,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACG,WAAW,CAAC,CAAC;EAEjBZ,SAAS,CAAC,MAAM;IACda,UAAU,CAAC,CAAC;IACZ,MAAMI,QAAQ,GAAGC,WAAW,CAACL,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC;IAChD,OAAO,MAAMM,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACJ,UAAU,CAAC,CAAC;EAEhB,OAAO;IACLP,MAAM;IACNE,OAAO;IACPE,KAAK;IACLG;EACF,CAAC;AACH,CAAC;AAACR,EAAA,CA/BWD,SAAS;EAAA,QAIAD,eAAe;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}