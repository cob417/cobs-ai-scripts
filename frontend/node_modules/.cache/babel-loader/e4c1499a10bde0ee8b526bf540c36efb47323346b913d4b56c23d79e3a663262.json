{"ast":null,"code":"var _s = $RefreshSig$();\n/**\n * Custom hook for managing job runs\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { getJobRuns, getJobRun } from '../services/api';\nimport { useErrorHandler } from './useErrorHandler';\nexport const useJobRuns = (limit = 50) => {\n  _s();\n  const [runs, setRuns] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const handleError = useErrorHandler();\n  const loadRuns = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await getJobRuns(limit);\n      setRuns(data);\n    } catch (err) {\n      const errorMessage = handleError(err);\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  }, [limit, handleError]);\n  useEffect(() => {\n    loadRuns();\n    const interval = setInterval(loadRuns, 10000); // Refresh every 10 seconds\n    return () => clearInterval(interval);\n  }, [loadRuns]);\n  const getRun = useCallback(async id => {\n    try {\n      return await getJobRun(id);\n    } catch (err) {\n      handleError(err);\n      throw err;\n    }\n  }, [handleError]);\n  return {\n    runs,\n    loading,\n    error,\n    loadRuns,\n    getRun\n  };\n};\n_s(useJobRuns, \"fL+0Ayvo8JolKSEFvWatcDBQk5Q=\", false, function () {\n  return [useErrorHandler];\n});","map":{"version":3,"names":["useState","useEffect","useCallback","getJobRuns","getJobRun","useErrorHandler","useJobRuns","limit","_s","runs","setRuns","loading","setLoading","error","setError","handleError","loadRuns","data","err","errorMessage","interval","setInterval","clearInterval","getRun","id"],"sources":["/home/cob417/github/cob-ai-scripts/frontend/src/hooks/useJobRuns.ts"],"sourcesContent":["/**\n * Custom hook for managing job runs\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { JobRun, getJobRuns, getJobRun } from '../services/api';\nimport { useErrorHandler } from './useErrorHandler';\n\nexport const useJobRuns = (limit: number = 50) => {\n  const [runs, setRuns] = useState<JobRun[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const handleError = useErrorHandler();\n\n  const loadRuns = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await getJobRuns(limit);\n      setRuns(data);\n    } catch (err) {\n      const errorMessage = handleError(err);\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  }, [limit, handleError]);\n\n  useEffect(() => {\n    loadRuns();\n    const interval = setInterval(loadRuns, 10000); // Refresh every 10 seconds\n    return () => clearInterval(interval);\n  }, [loadRuns]);\n\n  const getRun = useCallback(async (id: number): Promise<JobRun> => {\n    try {\n      return await getJobRun(id);\n    } catch (err) {\n      handleError(err);\n      throw err;\n    }\n  }, [handleError]);\n\n  return {\n    runs,\n    loading,\n    error,\n    loadRuns,\n    getRun,\n  };\n};\n"],"mappings":";AAAA;AACA;AACA;;AAEA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACxD,SAAiBC,UAAU,EAAEC,SAAS,QAAQ,iBAAiB;AAC/D,SAASC,eAAe,QAAQ,mBAAmB;AAEnD,OAAO,MAAMC,UAAU,GAAGA,CAACC,KAAa,GAAG,EAAE,KAAK;EAAAC,EAAA;EAChD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAW,EAAE,CAAC;EAC9C,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAgB,IAAI,CAAC;EACvD,MAAMe,WAAW,GAAGV,eAAe,CAAC,CAAC;EAErC,MAAMW,QAAQ,GAAGd,WAAW,CAAC,YAAY;IACvC,IAAI;MACFU,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACd,MAAMG,IAAI,GAAG,MAAMd,UAAU,CAACI,KAAK,CAAC;MACpCG,OAAO,CAACO,IAAI,CAAC;IACf,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZ,MAAMC,YAAY,GAAGJ,WAAW,CAACG,GAAG,CAAC;MACrCJ,QAAQ,CAACK,YAAY,CAAC;IACxB,CAAC,SAAS;MACRP,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACL,KAAK,EAAEQ,WAAW,CAAC,CAAC;EAExBd,SAAS,CAAC,MAAM;IACde,QAAQ,CAAC,CAAC;IACV,MAAMI,QAAQ,GAAGC,WAAW,CAACL,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;IAC/C,OAAO,MAAMM,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACJ,QAAQ,CAAC,CAAC;EAEd,MAAMO,MAAM,GAAGrB,WAAW,CAAC,MAAOsB,EAAU,IAAsB;IAChE,IAAI;MACF,OAAO,MAAMpB,SAAS,CAACoB,EAAE,CAAC;IAC5B,CAAC,CAAC,OAAON,GAAG,EAAE;MACZH,WAAW,CAACG,GAAG,CAAC;MAChB,MAAMA,GAAG;IACX;EACF,CAAC,EAAE,CAACH,WAAW,CAAC,CAAC;EAEjB,OAAO;IACLN,IAAI;IACJE,OAAO;IACPE,KAAK;IACLG,QAAQ;IACRO;EACF,CAAC;AACH,CAAC;AAACf,EAAA,CA1CWF,UAAU;EAAA,QAIDD,eAAe;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}